<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>
      (function () {
        try {
          var url = new URL(window.location.href);
          url.pathname = url.pathname.replace(/index\.hu\.html$/, "index.html");
          url.searchParams.set("lang", "hu");
          window.location.replace(url.toString());
        } catch (e) {
          window.location.replace("./index.html?lang=hu");
        }
      })();
    </script>
    <noscript>
      <meta http-equiv="refresh" content="0; url=./index.html?lang=hu" />
    </noscript>
    <title>Szezon√°lis L√©g√∫ti K√≥rokoz√≥ Dashboard ‚Äì Magyarorsz√°g/EU</title>
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <header>
      <div class="header-bar">
        <div class="brand">
        <h1>Szezon√°lis L√©g√∫ti K√≥rokoz√≥ Dashboard ‚Äì Magyarorsz√°g/EU</h1>
          <span>Magyarorsz√°gi √©s EU/EGT l√©g√∫ti helyzetk√©p az NNGYK √©s ECDC adatai alapj√°n</span>
        </div>
        <label class="header-picker">
          <span class="sr-only">√âv</span>
          <select id="year" class="select" aria-label="√âv"></select>
        </label>
      </div>
    </header>

    <main class="grid" aria-live="polite">
      <section class="alert-stack" aria-label="F≈ë riaszt√°sok">
        <section class="alert-card" id="flu-alert" aria-live="polite" role="status">
          <div class="alert-icon" aria-hidden="true">‚ö†Ô∏è</div>
          <div>
            <h2>Szezon√°lis influenzak√ºsz√∂b</h2>
            <p class="footer-note" id="flu-alert-text">Adatok bet√∂lt√©se‚Ä¶</p>
          </div>
          <span class="pill" id="flu-alert-chip">Megfigyel√©s</span>
        </section>

        <section class="alert-card" id="leader-alert" aria-live="polite" role="status">
          <div class="alert-icon" aria-hidden="true">üìà</div>
          <div>
            <h2>Vezet≈ë k√≥rokoz√≥ pozitivit√°s szerint (HU)</h2>
            <p class="footer-note" id="leader-alert-text">Pozitivit√°si adatok bet√∂lt√©se‚Ä¶</p>
          </div>
          <span class="pill" id="leader-alert-chip">Megfigyel√©s</span>
        </section>

        <section class="alert-card" id="leader-eu-alert" aria-live="polite" role="status">
          <div class="alert-icon" aria-hidden="true">üåê</div>
          <div>
            <h2>Vezet≈ë k√≥rokoz√≥ pozitivit√°s szerint (EU/EGT)</h2>
            <p class="footer-note" id="leader-eu-alert-text">EU/EGT pozitivit√°si adatok bet√∂lt√©se‚Ä¶</p>
          </div>
          <span class="pill" id="leader-eu-alert-chip">Megfigyel√©s</span>
        </section>
      </section>

      <div class="grid metrics">
        <article class="card">
          <h2>Esetsz√°m √∂sszesen</h2>
          <div class="value" id="total-cases">0</div>
          <p class="footer-note">A kiv√°lasztott adatb√°zis, √©v √©s k√≥rokoz√≥ alapj√°n.</p>
        </article>
        <article class="card">
          <h2>Cs√∫cs h√©t</h2>
          <div class="value" id="peak-week">‚Äì</div>
          <p class="footer-note">A legmagasabb aktivit√°s√∫ napt√°ri h√©t.</p>
        </article>
        <article class="card">
          <div class="card-header-row">
            <h2>Legfrissebb heti esetsz√°m</h2>
            <span class="badge" id="latest-week-badge">Legfrissebb h√©t</span>
          </div>
          <div class="value" id="latest-week-cases">‚Äì</div>
          <p class="footer-note">A kiv√°lasztott k√≥rokoz√≥ legfrissebb jelentett hete.</p>
        </article>
        <article class="card">
          <div class="card-header-row">
            <h2>SARI felv√©telek</h2>
            <span class="badge" id="sari-week-badge">Legfrissebb h√©t</span>
          </div>
          <div class="value" id="sari-admissions">‚Äì</div>
          <p class="footer-note">S√∫lyos akut l√©g√∫ti fert≈ëz√©s miatti k√≥rh√°zi felv√©telek (sentinel k√≥rh√°zak).</p>
        </article>
        <article class="card">
          <h2>SARI ICU</h2>
          <div class="value" id="sari-icu">‚Äì</div>
          <p class="footer-note">Intenz√≠v/szubintenz√≠v ell√°t√°s a SARI felv√©telek k√∂z√∂tt.</p>
        </article>
      </div>

      <section class="context-grid" aria-label="Heti trend kiemel√©sek">
        <article class="card">
          <div class="context-header">
            <div>
              <h2>Heti trend jelz√©sek</h2>
              <p class="footer-note">Gyors √°ttekint√©s arr√≥l, mely k√≥rokoz√≥k er≈ës√∂dnek vagy enyh√ºlnek.</p>
            </div>
            <div class="badge">Aktu√°lis n√©zet</div>
          </div>
          <ul class="trend-list" id="surge-list"></ul>
        </article>
      </section>

      <section class="card chart-card" aria-label="Vizu√°lis √∂sszefoglal√≥k">
        <div class="chart-container">
          <div class="context-header">
            <div>
              <h2>Influenzaszer≈± megbeteged√©sek (NNGYK)</h2>
              <p class="footer-note">Heti ILI esetsz√°m magyarorsz√°gi sentinel jelent√©sek alapj√°n (2025/2026 szezon).</p>
            </div>
            <div class="badge" id="ili-year-badge">Legfrissebb szezon</div>
          </div>
          <canvas id="ili-chart" aria-label="ILI trend" role="img"></canvas>
        </div>
        <div class="chart-container">
          <div class="context-header">
            <div>
              <h2>SARI k√≥rh√°zi felv√©telek</h2>
              <p class="footer-note">Heti SARI felv√©telek √©s intenz√≠v terhel√©s a sentinel k√≥rh√°zakb√≥l.</p>
            </div>
            <div class="badge">K√≥rh√°zi trend</div>
          </div>
          <canvas id="sari-chart" aria-label="SARI k√≥rh√°zi felv√©telek trend" role="img"></canvas>
        </div>
      </section>

      <section class="context-grid" aria-label="Virol√≥giai kimutat√°sok √©s pozitivit√°s">
        <article class="card">
          <div class="context-header">
            <div>
              <h2>Sentinel orvosi v√≠rus kimutat√°sok</h2>
              <p class="footer-note">Legfrissebb kimutat√°sok a sentinel mint√°kban.</p>
            </div>
            <div class="badge" id="viro-week-badge">Legfrissebb h√©t</div>
          </div>
          <ul class="context-list" id="viro-detections" aria-label="Sentinel kimutat√°sok"></ul>
          <canvas id="viro-detections-chart" aria-label="Sentinel kimutat√°sok trend" role="img"></canvas>
        </article>
        <article class="card">
          <div class="context-header">
            <div>
              <h2>Tesztpozitivit√°s (sentinel orvosi mint√°k)</h2>
              <p class="footer-note">Pozitivit√°si ar√°nyok a sentinel mint√°kban.</p>
            </div>
            <div class="badge">Virol√≥gia</div>
          </div>
          <ul class="context-list" id="viro-positivity" aria-label="Sentinel pozitivit√°s"></ul>
          <canvas id="viro-positivity-chart" aria-label="Sentinel pozitivit√°s trend" role="img"></canvas>
        </article>
      </section>

      <section class="eu-stack" aria-label="EU/EGT virol√≥giai kimutat√°sok √©s pozitivit√°s">
        <article class="card card-wide">
          <div class="context-header">
            <div>
              <h2>EU/EGT v√≠rus kimutat√°sok</h2>
              <p class="footer-note">SARI virol√≥giai kimutat√°sok (ERVISS, EU/EGT).</p>
            </div>
            <div class="badge" id="eu-week-badge">Legfrissebb h√©t</div>
          </div>
          <ul class="context-list" id="eu-detections" aria-label="EU kimutat√°sok"></ul>
          <canvas id="eu-detections-chart" aria-label="EU kimutat√°sok trend" role="img"></canvas>
        </article>
        <article class="card card-wide">
          <div class="context-header">
            <div>
              <h2>EU/EGT tesztpozitivit√°s</h2>
              <p class="footer-note">Pozitivit√°si ar√°nyok a SARI mint√°kban (ERVISS, EU/EGT).</p>
            </div>
            <div class="badge">EU/EGT</div>
          </div>
          <ul class="context-list" id="eu-positivity" aria-label="EU pozitivit√°s"></ul>
          <canvas id="eu-positivity-chart" aria-label="EU pozitivit√°s trend" role="img"></canvas>
        </article>
      </section>

      <section class="card table-card" aria-label="Heti t√°bl√°zat">
        <div class="card-header-row card-header-row-baseline">
          <div>
            <h2>L√©g√∫ti v√≠rusok heti bont√°sban (Magyarorsz√°g)</h2>
            <p class="footer-note">Kattints a H√©t vagy Esetsz√°m oszlopra a rendez√©shez; SARI √©s pozitivit√°si kontextussal.</p>
          </div>
          <div class="badge">Akad√°lymentes t√°bl√°zat</div>
        </div>
        <div class="table-scroll" role="region" aria-label="G√∂rgethet≈ë t√°bl√°zat">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" id="week-header" class="sortable" tabindex="0" aria-sort="ascending">
                  <span>H√©t</span><span class="sort-indicator" aria-hidden="true"></span>
                </th>
                <th scope="col">V√≠rus</th>
                <th scope="col">R√©gi√≥</th>
                <th scope="col" id="cases-header" class="sortable" tabindex="0" aria-sort="none">
                  <span>Esetsz√°m</span><span class="sort-indicator" aria-hidden="true"></span>
                </th>
                <th scope="col">SARI felv√©telek</th>
                <th scope="col">SARI intenz√≠v</th>
                <th scope="col">Legmagasabb pozitivit√°s</th>
              </tr>
            </thead>
            <tbody id="table-body"></tbody>
          </table>
        </div>
      </section>

      <footer class="page-footer" aria-label="Adatk√©szletek megjegyz√©sei">
        <div>
          <p id="dataset-description" class="footer-note">
            Az NNGYK √°ltal k√∂zz√©tett orsz√°gos l√©g√∫ti j√°rv√°ny√ºgyi fel√ºgyeleti adatok √∂sszes√≠tve.
          </p>
          <div class="chip-row" id="chips"></div>
        </div>
      </footer>
    </main>

    <script type="module" src="./app.hu.js"></script>
  </body>
</html>
